<div class="review-container">
  <div *ngIf="showMode && !editMode">
  <h2>{{ review.title }}</h2>
  <div class="rating">
    <p>{{ review.score }}</p>
  </div>
  <p>By: {{ Users.findById(review.user)?.username }}</p>
  <p>{{ review.description }}</p>

  <div class="likes-dislikes">
    <i class="fa-solid fa-thumbs-up" (click)="likeReview()">Like</i>
    <span>Likes: {{ review.likes }}</span>
    <i class="fa-solid fa-thumbs-down" (click)="dislikeReview()">Dislike></i>
    <span>Dislikes: {{ review.dislikes }}</span>
  </div>

  <div *ngIf="isReviewOwner()">
    <button (click)="createOrUpdateReview()">Edit Review</button>
    <button (click)="deleteReview()">Delete Review</button>
  </div>
  </div>


  <!-- Create/edit review form section -->
  <div *ngIf="editMode || !review.id">
    <h3>{{ review.id ? 'Edit' : 'Create' }} Review</h3>
    <div>
      <label for="userId">User ID:</label>
      <input type="text" id="userId" [(ngModel)]="review.user">
    </div>
    <div>
      <label for="title">Title:</label>
      <input type="text" id="title" [(ngModel)]="review.title">
    </div>
    <div>
      <label for="description">Description:</label>
      <textarea id="description" [(ngModel)]="review.description"></textarea>
    </div>
    <div>
      <label for="score">Score:</label>
      <input type="number" id="score" [(ngModel)]="review.score">
    </div>
    <div>
      <button (click)="createOrUpdateReview()">{{ review.id ? 'Update' : 'Create' }} Review</button>
    </div>
  </div>
</div>
